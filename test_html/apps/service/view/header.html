<!-- /static/header.html : 공통 헤더(Topbar) 조각 -->
<style>
:root{
  --header-h: 60px;
}

/* ===== Topbar (공통) ===== */
.topbar{
  position: fixed;
  top: 0; left: 0;
  width: 100%;
  height: 60px;
  background: #0462D2;
  display: flex;
  align-items: center;
  z-index: 999;
  box-shadow: 0 2px 8px rgba(0,0,0,0.10);
}

.topbar__inner{
  width: 100%;
  margin: 0 auto;
  padding: 0 20px;
  display:flex;
  align-items:center;
  justify-content: space-between;
  box-sizing: border-box;
}

.brand{
  display:flex;
  align-items:center;
  gap: 10px;
  text-decoration: none;
  color: #fff;
}

.topbar_logo img{
  height: 44px;
}

/* 오른쪽 메뉴 */
#authArea{
  margin-left: auto;
  display:flex;
  align-items:center;
  gap: 12px;
}

/* 세션 확인 중(auth 토글 전)에는 메뉴를 통째로 숨겨서 깜빡임 제거 */
#authArea[data-auth-pending="1"]{
  visibility: hidden;
  opacity: 0;
  pointer-events: none;
}
#authArea[data-auth-pending="0"]{
  visibility: visible;
  opacity: 1;
}
#authArea{
  transition: opacity .12s ease;
}

.topbar__link{
  color: #fff;
  font-size: 14px;
  font-weight: 800;
  text-decoration: none;
}

/* 흰 pill 버튼(회원가입/로그아웃) */
.topbar__btn{
  display:inline-flex;
  align-items:center;
  justify-content:center;
  background:#fff;
  color:#0462D2;
  border:none;
  padding: 8px 16px;
  border-radius: 999px;
  font-weight: 900;
  font-size: 14px;
  text-decoration: none;
  box-shadow: 0 2px 6px rgba(0,0,0,0.10);
}

/* 헤더 fixed라서 본문 내려주기(공통 레이아웃이 .app일 때) */
.app{
  margin-top: 60px;
  height: calc(100vh - 60px);
}

/* sidebar sticky 기준도 헤더 높이 반영 */
.sidebar{
  top: calc(var(--header-h) + 22px);
  height: calc(100vh - var(--header-h) - 44px);
}

/* hidden 속성은 CSS가 display를 덮어써도 무조건 숨김 */
[hidden] { display: none !important; }
</style>

<!--<script src="/static/header_init.js" defer></script>-->
<!--<script src="/static/base.js" defer></script>-->

<header class="topbar">
  <div class="topbar__inner">
    <a class="brand" href="/view/home.html">
      <span class="topbar_logo">
        <img src="/view/img/logo_white.png" alt="TrendScope">
      </span>
    </a>

    <!-- 주입 직후부터 깜빡임 방지: 기본은 pending=1 -->
    <nav id="authArea" class="topbar__actions" aria-label="상단 메뉴" data-auth-pending="1">
      <!-- 비로그인 -->
      <a class="topbar__link js-auth-out" href="/login">로그인</a>
      <a class="topbar__btn js-auth-out" href="/signup">회원가입</a>

      <!-- 로그인 -->
      <a class="topbar__link js-auth-in" href="/my_page">마이페이지</a>
      <a class="topbar__btn js-auth-in" href="/logout" id="btnLogout">로그아웃</a>
    </nav>
  </div>
</header>
